var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function c(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function o(t,n){t.appendChild(n)}function s(t,n,e){t.insertBefore(n,e||null)}function u(t){t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function f(){return a(" ")}function h(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function d(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function p(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function $(t,n,e){t.classList[e?"add":"remove"](n)}let m;function g(t){m=t}const b=[],x=[],y=[],w=[],_=Promise.resolve();let v=!1;function k(t){y.push(t)}let C=!1;const N=new Set;function E(){if(!C){C=!0;do{for(let t=0;t<b.length;t+=1){const n=b[t];g(n),z(n.$$)}for(g(null),b.length=0;x.length;)x.pop()();for(let t=0;t<y.length;t+=1){const n=y[t];N.has(n)||(N.add(n),n())}y.length=0}while(b.length);for(;w.length;)w.pop()();v=!1,C=!1,N.clear()}}function z(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(k)}}const I=new Set;let T;function q(t,n){t&&t.i&&(I.delete(t),t.i(n))}function A(t,n,e,r){if(t&&t.o){if(I.has(t))return;I.add(t),T.c.push((()=>{I.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function B(t){t&&t.c()}function S(t,e,l,o){const{fragment:s,on_mount:u,on_destroy:i,after_update:a}=t.$$;s&&s.m(e,l),o||k((()=>{const e=u.map(n).filter(c);i?i.push(...e):r(e),t.$$.on_mount=[]})),a.forEach(k)}function j(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function L(t,n){-1===t.$$.dirty[0]&&(b.push(t),v||(v=!0,_.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function O(n,c,l,o,s,i,a=[-1]){const f=m;g(n);const h=n.$$={fragment:null,ctx:null,props:i,update:t,not_equal:s,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:c.context||[]),callbacks:e(),dirty:a,skip_bound:!1};let d=!1;if(h.ctx=l?l(n,c.props||{},((t,e,...r)=>{const c=r.length?r[0]:e;return h.ctx&&s(h.ctx[t],h.ctx[t]=c)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](c),d&&L(n,t)),e})):[],h.update(),d=!0,r(h.before_update),h.fragment=!!o&&o(h.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);h.fragment&&h.fragment.l(t),t.forEach(u)}else h.fragment&&h.fragment.c();c.intro&&q(n.$$.fragment),S(n,c.target,c.anchor,c.customElement),E()}g(f)}class W{$destroy(){j(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const M={name:"Wolf"},P={name:"Bunny"};function D(n){let e,r,c;return{c(){e=i("button"),d(e,"class","svelte-1bpfmq3"),$(e,"wolf",n[0]===M),$(e,"bunny",n[0]===P)},m(t,l){s(t,e,l),r||(c=h(e,"click",n[1]),r=!0)},p(t,[n]){1&n&&$(e,"wolf",t[0]===M),1&n&&$(e,"bunny",t[0]===P)},i:t,o:t,d(t){t&&u(e),r=!1,c()}}}function F(t,n,e){let{character:r}=n;return t.$$set=t=>{"character"in t&&e(0,r=t.character)},[r,function(n){!function(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach((t=>t(n)))}(t,n)}]}class G extends W{constructor(t){super(),O(this,t,F,D,l,{character:0})}}class H{cells;wolfIsNext;constructor(){this.cells=Array(9).fill(null),this.wolfIsNext=!0}nextCharacter(){return this.wolfIsNext?M:P}changeState(t,n){return this.cells[t]=n,this.wolfIsNext=!this.wolfIsNext,this}isCellNotBlank(t){return null!==this.cells[t]}isTie(){for(let t of this.cells)if(null===t)return!1;return!0}getWinner(){const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let n=0;n<t.length;n++){const[e,r,c]=t[n];if(this.cells[e]&&this.cells[e]===this.cells[r]&&this.cells[e]===this.cells[c])return this.cells[e]}return null}}function J(t,n,e){const r=t.slice();return r[7]=n[e],r[9]=e,r}function K(t){let n,e,r,c,l=t[0].nextCharacter().name+"";return{c(){n=i("span"),e=i("b"),r=a(l),c=a(" is the next player")},m(t,l){s(t,n,l),o(n,e),o(e,r),o(n,c)},p(t,n){1&n&&l!==(l=t[0].nextCharacter().name+"")&&p(r,l)},d(t){t&&u(n)}}}function Q(n){let e,r,c,l;return{c(){e=a("It was a tie...\n            "),r=i("button"),r.textContent="Try again",d(r,"class","svelte-3azwfz"),$(r,"reset",n[3])},m(t,o){s(t,e,o),s(t,r,o),c||(l=h(r,"click",n[5]),c=!0)},p:t,d(t){t&&u(e),t&&u(r),c=!1,l()}}}function R(t){let n,e,r,c,l,m,g,b,x=t[1].name+"";return{c(){n=i("span"),e=i("b"),r=a(x),c=a(" is the winner!"),l=f(),m=i("button"),m.textContent="Try again",d(m,"class","svelte-3azwfz"),$(m,"reset",t[3])},m(u,i){s(u,n,i),o(n,e),o(e,r),o(n,c),s(u,l,i),s(u,m,i),g||(b=h(m,"click",t[4]),g=!0)},p(t,n){2&n&&x!==(x=t[1].name+"")&&p(r,x)},d(t){t&&u(n),t&&u(l),t&&u(m),g=!1,b()}}}function U(t){let n,e;return n=new G({props:{character:t[7]}}),n.$on("click",(function(...n){return t[6](t[9],...n)})),{c(){B(n.$$.fragment)},m(t,r){S(n,t,r),e=!0},p(e,r){t=e;const c={};1&r&&(c.character=t[7]),n.$set(c)},i(t){e||(q(n.$$.fragment,t),e=!0)},o(t){A(n.$$.fragment,t),e=!1},d(t){j(n,t)}}}function V(t){let n,e,c,l,a,h;function p(t,n){return null!==t[1]?R:((null==c||1&n)&&(c=!!t[0].isTie()),c?Q:K)}let $=p(t,-1),m=$(t),g=t[0].cells,b=[];for(let n=0;n<g.length;n+=1)b[n]=U(J(t,g,n));const x=t=>A(b[t],1,1,(()=>{b[t]=null}));return{c(){n=i("div"),e=i("div"),m.c(),l=f(),a=i("div");for(let t=0;t<b.length;t+=1)b[t].c();d(e,"class","status svelte-3azwfz"),d(a,"class","cells"),d(n,"class","board svelte-3azwfz")},m(t,r){s(t,n,r),o(n,e),m.m(e,null),o(n,l),o(n,a);for(let t=0;t<b.length;t+=1)b[t].m(a,null);h=!0},p(t,[n]){if($===($=p(t,n))&&m?m.p(t,n):(m.d(1),m=$(t),m&&(m.c(),m.m(e,null))),5&n){let e;for(g=t[0].cells,e=0;e<g.length;e+=1){const r=J(t,g,e);b[e]?(b[e].p(r,n),q(b[e],1)):(b[e]=U(r),b[e].c(),q(b[e],1),b[e].m(a,null))}for(T={r:0,c:[],p:T},e=g.length;e<b.length;e+=1)x(e);T.r||r(T.c),T=T.p}},i(t){if(!h){for(let t=0;t<g.length;t+=1)q(b[t]);h=!0}},o(t){b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)A(b[t]);h=!1},d(t){t&&u(n),m.d(),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(b,t)}}}function X(t,n,e){let r,c=new H;function l(t){console.log(r,c.cells),null!==r||c.isCellNotBlank(t)||e(0,c=c.changeState(t,c.nextCharacter()))}function o(){e(0,c=new H)}return t.$$.update=()=>{1&t.$$.dirty&&e(1,r=c.getWinner())},[c,r,l,o,t=>o(),t=>o(),(t,n)=>l(t)]}class Y extends W{constructor(t){super(),O(this,t,X,V,l,{})}}function Z(n){let e,r,c;return r=new Y({}),{c(){e=i("main"),B(r.$$.fragment),d(e,"class","svelte-16oq6qq")},m(t,n){s(t,e,n),S(r,e,null),c=!0},p:t,i(t){c||(q(r.$$.fragment,t),c=!0)},o(t){A(r.$$.fragment,t),c=!1},d(t){t&&u(e),j(r)}}}return new class extends W{constructor(t){super(),O(this,t,null,Z,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
